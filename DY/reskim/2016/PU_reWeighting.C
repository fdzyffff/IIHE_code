namespace PU_2016{
float MC_pileup_weight(int NumTrueInteraction, int scale, string dataset){

if (NumTrueInteraction < 0 || NumTrueInteraction > 74 ) return 1;

double PU_data_all_noScale[120] = {
6.54008e-06,
2.29383e-05,
6.32223e-05,
8.55796e-05,
0.000122592,
0.000164214,
0.000191738,
0.000353072,
0.000965735,
0.00215544,
0.00484612,
0.00986199,
0.0165083,
0.0240058,
0.032166,
0.0407818,
0.0481844,
0.0532395,
0.0561219,
0.0575573,
0.0584119,
0.0588587,
0.0583078,
0.056491,
0.0537587,
0.0504445,
0.0466722,
0.0425747,
0.0383287,
0.0340574,
0.0298202,
0.0256705,
0.0216922,
0.0179859,
0.0146378,
0.011698,
0.00917774,
0.00705846,
0.00530639,
0.00388441,
0.00275715,
0.00189012,
0.00124723,
0.000790064,
0.000479456,
0.00027833,
0.000154405,
8.18145e-05,
4.14101e-05,
2.00435e-05,
9.30691e-06,
4.17785e-06,
1.84606e-06,
8.3504e-07,
4.1498e-07,
2.45829e-07,
1.77914e-07,
1.48846e-07,
1.33924e-07,
1.23839e-07,
1.1526e-07,
1.07079e-07,
9.89863e-08,
9.09467e-08,
8.30145e-08,
7.52676e-08,
6.77837e-08,
6.06312e-08,
5.38664e-08,
4.75325e-08,
4.16595e-08,
3.62653e-08,
3.1356e-08,
2.69281e-08,
2.29691e-08,
1.94598e-08,
1.63753e-08,
1.36867e-08,
1.13622e-08,
9.36881e-09,
7.67298e-09,
6.24168e-09,
5.04308e-09,
4.04714e-09,
3.22595e-09,
2.55402e-09,
2.00839e-09,
1.56866e-09,
1.21693e-09,
9.37694e-10,
7.17648e-10,
5.45528e-10,
4.11887e-10,
3.08884e-10,
2.30073e-10,
1.70213e-10,
1.25075e-10,
9.12863e-11,
6.61748e-11,
4.76467e-11,
3.40742e-11,
2.42031e-11,
1.70753e-11,
1.19652e-11,
8.32759e-12,
5.75667e-12,
3.95252e-12,
2.69543e-12,
1.82571e-12,
1.22825e-12,
8.2071e-13,
5.44682e-13,
3.59043e-13,
2.3507e-13,
1.52862e-13,
9.87297e-14,
6.33352e-14,
4.03544e-14,
2.55379e-14,
1.60519e-14
};

double PU_data_all_ScaleUp[120] ={
6.37263e-06,
1.80613e-05,
5.9811e-05,
7.52014e-05,
0.00011151,
0.000147891,
0.000174896,
0.00024763,
0.000651348,
0.00147898,
0.0031773,
0.00673863,
0.012143,
0.0186263,
0.0256857,
0.0333803,
0.0411277,
0.0473933,
0.0515612,
0.0539177,
0.0551222,
0.0558809,
0.0562744,
0.0557862,
0.0541814,
0.0517472,
0.0487842,
0.0454072,
0.0417152,
0.0378565,
0.0339517,
0.0300627,
0.0262294,
0.0225108,
0.0189883,
0.0157431,
0.0128349,
0.0102915,
0.00811158,
0.00627389,
0.00474853,
0.00350465,
0.00251302,
0.00174478,
0.00116956,
0.000755162,
0.000468838,
0.000279512,
0.000159876,
8.76905e-05,
4.61215e-05,
2.32786e-05,
1.12996e-05,
5.30265e-06,
2.43452e-06,
1.1222e-06,
5.46016e-07,
3.01631e-07,
1.99901e-07,
1.56741e-07,
1.36542e-07,
1.24902e-07,
1.16255e-07,
1.08553e-07,
1.01102e-07,
9.37112e-08,
8.63695e-08,
7.91263e-08,
7.20473e-08,
6.51973e-08,
5.86339e-08,
5.2405e-08,
4.6548e-08,
4.10898e-08,
3.60473e-08,
3.14281e-08,
2.72314e-08,
2.34494e-08,
2.00678e-08,
1.70678e-08,
1.44267e-08,
1.21189e-08,
1.01174e-08,
8.39439e-09,
6.92178e-09,
5.67227e-09,
4.61963e-09,
3.7391e-09,
3.00772e-09,
2.40447e-09,
1.91033e-09,
1.50838e-09,
1.18364e-09,
9.23084e-10,
7.15436e-10,
5.51073e-10,
4.21848e-10,
3.20931e-10,
2.42647e-10,
1.82325e-10,
1.36152e-10,
1.01044e-10,
7.45253e-11,
5.46265e-11,
3.97932e-11,
2.88085e-11,
2.07271e-11,
1.48205e-11,
1.05315e-11,
7.43745e-12,
5.2199e-12,
3.64087e-12,
2.52378e-12,
1.73861e-12,
1.1903e-12,
8.09868e-13,
5.47615e-13,
3.67993e-13,
2.45757e-13,
1.63108e-13
};

double PU_data_all_ScaleDown[120] ={
6.77593e-06,
2.92832e-05,
6.65038e-05,
9.76882e-05,
0.00013671,
0.000180566,
0.000221755,
0.000546682,
0.00142169,
0.00328014,
0.00746986,
0.0140533,
0.0219725,
0.0306384,
0.0400658,
0.0487539,
0.0549158,
0.0584733,
0.0602103,
0.061182,
0.0616915,
0.0610662,
0.0589986,
0.0559171,
0.0521906,
0.0479588,
0.0433993,
0.0387163,
0.0340311,
0.0294056,
0.0249178,
0.0206818,
0.0168142,
0.0133971,
0.0104626,
0.0079996,
0.00597156,
0.00433387,
0.0030433,
0.00205819,
0.00133527,
0.000828375,
0.000490264,
0.000276337,
0.000148173,
7.55428e-05,
3.66294e-05,
1.692e-05,
7.48062e-06,
3.20277e-06,
1.36555e-06,
6.1528e-07,
3.21628e-07,
2.09204e-07,
1.64835e-07,
1.44633e-07,
1.32489e-07,
1.22806e-07,
1.13769e-07,
1.04868e-07,
9.6027e-08,
8.73029e-08,
7.87891e-08,
7.05791e-08,
6.27551e-08,
5.53837e-08,
4.85148e-08,
4.2182e-08,
3.64034e-08,
3.11832e-08,
2.65132e-08,
2.23752e-08,
1.8743e-08,
1.55839e-08,
1.28612e-08,
1.05354e-08,
8.56622e-09,
6.91343e-09,
5.53816e-09,
4.40357e-09,
3.47545e-09,
2.7226e-09,
2.11701e-09,
1.63392e-09,
1.2517e-09,
9.51787e-10,
7.18362e-10,
5.3816e-10,
4.00171e-10,
2.95354e-10,
2.16374e-10,
1.57337e-10,
1.13558e-10,
8.13523e-11,
5.78474e-11,
4.08281e-11,
2.86021e-11,
1.98882e-11,
1.37264e-11,
9.40321e-12,
6.39377e-12,
4.31517e-12,
2.89066e-12,
1.92202e-12,
1.26845e-12,
8.30906e-13,
5.4024e-13,
3.48642e-13,
2.23322e-13,
1.41984e-13,
8.95994e-14,
5.61213e-14,
3.48905e-14,
2.15299e-14,
1.31867e-14,
8.01647e-15,
4.83713e-15,
2.89699e-15,
1.72212e-15,
1.01609e-15
};




double PU_MC[75] =  {
1.78653e-05 ,
2.56602e-05 ,
5.27857e-05 ,
8.88954e-05 ,
0.000109362 ,
0.000140973 ,
0.000240998 ,
0.00071209 ,
0.00130121 ,
0.00245255 ,
0.00502589 ,
0.00919534 ,
0.0146697 ,
0.0204126 ,
0.0267586 ,
0.0337697 ,
0.0401478 ,
0.0450159 ,
0.0490577 ,
0.0524855 ,
0.0548159 ,
0.0559937 ,
0.0554468 ,
0.0537687 ,
0.0512055 ,
0.0476713 ,
0.0435312 ,
0.0393107 ,
0.0349812 ,
0.0307413 ,
0.0272425 ,
0.0237115 ,
0.0208329 ,
0.0182459 ,
0.0160712 ,
0.0142498 ,
0.012804 ,
0.011571 ,
0.010547 ,
0.00959489 ,
0.00891718 ,
0.00829292 ,
0.0076195 ,
0.0069806 ,
0.0062025 ,
0.00546581 ,
0.00484127 ,
0.00407168 ,
0.00337681 ,
0.00269893 ,
0.00212473 ,
0.00160208 ,
0.00117884 ,
0.000859662 ,
0.000569085 ,
0.000365431 ,
0.000243565 ,
0.00015688 ,
9.88128e-05 ,
6.53783e-05 ,
3.73924e-05 ,
2.61382e-05 ,
2.0307e-05 ,
1.73032e-05 ,
1.435e-05 ,
1.36486e-05 ,
1.35555e-05 ,
1.37491e-05 ,
1.34255e-05 ,
1.33987e-05 ,
1.34061e-05 ,
1.34211e-05 ,
1.34177e-05 ,
1.32959e-05 ,
1.33287e-05
};

     if(scale ==0 && dataset=="all"){ return float(PU_data_all_noScale[NumTrueInteraction]/PU_MC[NumTrueInteraction]) ;}
else if(scale ==1 && dataset=="all"){ return float(PU_data_all_ScaleUp[NumTrueInteraction]/PU_MC[NumTrueInteraction]) ;}
else if(scale ==2 && dataset=="all"){ return float(PU_data_all_ScaleDown[NumTrueInteraction]/PU_MC[NumTrueInteraction]) ;}
else {return 1;}
}
}

namespace PU_2018{
float MC_pileup_weight(int NumTrueInteraction, int scale, string dataset){

if (NumTrueInteraction < 0 || NumTrueInteraction > 99 ) return 1;

double PU_data_all_noScale[120] = {
4.85368e-06,
1.70379e-05,
5.19884e-05,
0.000113575,
0.000200037,
0.000310418,
0.000457559,
0.000665681,
0.000941157,
0.00130364,
0.00181599,
0.00254148,
0.00353352,
0.00483268,
0.0064739,
0.00849167,
0.0109048,
0.0136925,
0.0167739,
0.0200004,
0.0231712,
0.0260771,
0.0285613,
0.0305666,
0.0321396,
0.0333905,
0.0344407,
0.0353868,
0.0362834,
0.0371439,
0.0379483,
0.0386561,
0.0392173,
0.0395783,
0.0396825,
0.0394711,
0.0388848,
0.0378711,
0.0363948,
0.0344489,
0.0320619,
0.0292995,
0.0262598,
0.0230632,
0.0198385,
0.0167099,
0.0137836,
0.0111397,
0.00882798,
0.00686772,
0.00525223,
0.00395519,
0.00293809,
0.00215698,
0.0015678,
0.00113006,
0.000808832,
0.000575392,
0.000407022,
0.0002863,
0.000200167,
0.000138999,
9.57827e-05,
6.54331e-05,
4.42746e-05,
2.96509e-05,
1.96433e-05,
1.28693e-05,
8.33732e-06,
5.34168e-06,
3.38556e-06,
2.12346e-06,
1.31857e-06,
8.10921e-07,
4.94103e-07,
2.98344e-07,
1.78532e-07,
1.05874e-07,
6.22077e-08,
3.62025e-08,
2.08584e-08,
1.18919e-08,
6.70502e-09,
3.73665e-09,
2.05707e-09,
1.11804e-09,
5.99629e-10,
3.17186e-10,
1.6541e-10,
8.50069e-11,
4.30364e-11,
2.1457e-11,
1.05326e-11,
5.08894e-12,
2.41964e-12,
1.13194e-12,
5.20924e-13,
2.35798e-13,
1.0497e-13,
4.59521e-14,
1.97794e-14,
8.37052e-15,
3.48251e-15,
1.4243e-15,
5.72608e-16,
2.26276e-16,
8.78847e-17,
3.35478e-17,
1.25866e-17,
4.64065e-18,
1.6821e-18,
5.98572e-19,
2.0902e-19,
7.176e-20,
2.40062e-20,
8.28821e-21,
2.47426e-21,
7.07964e-22,
0,
0
};

double PU_data_all_ScaleUp[120] ={
4.50275e-06,
1.49318e-05,
4.45945e-05,
9.78933e-05,
0.000172804,
0.000269045,
0.000391814,
0.000563365,
0.000793421,
0.00108768,
0.00148729,
0.0020493,
0.0028216,
0.00384441,
0.00514785,
0.00676157,
0.00871219,
0.0110081,
0.0136207,
0.0164708,
0.0194253,
0.0223127,
0.0249591,
0.0272349,
0.0290912,
0.0305636,
0.0317412,
0.032727,
0.0336074,
0.0344365,
0.0352343,
0.0359919,
0.0366803,
0.03726,
0.0376872,
0.0379159,
0.037898,
0.0375836,
0.0369243,
0.0358798,
0.0344266,
0.0325653,
0.030326,
0.0277681,
0.0249763,
0.022052,
0.0191032,
0.0162338,
0.0135341,
0.0110736,
0.00889793,
0.00702804,
0.00546308,
0.00418506,
0.00316441,
0.00236546,
0.00175093,
0.00128529,
0.000936879,
0.000678823,
0.000489216,
0.000350773,
0.000250196,
0.000177445,
0.000125049,
8.74937e-05,
6.07276e-05,
4.17804e-05,
2.84747e-05,
1.92152e-05,
1.28356e-05,
8.48652e-06,
5.55429e-06,
3.59922e-06,
2.30995e-06,
1.46883e-06,
9.25694e-07,
5.78404e-07,
3.58397e-07,
2.20255e-07,
1.3425e-07,
8.11496e-08,
4.86336e-08,
2.88883e-08,
1.70007e-08,
9.90754e-09,
5.71488e-09,
3.26114e-09,
1.84008e-09,
1.02613e-09,
5.65281e-10,
3.075e-10,
1.65111e-10,
8.74796e-11,
4.57194e-11,
2.35633e-11,
1.19731e-11,
5.9967e-12,
2.95987e-12,
1.4395e-12,
6.89706e-13,
3.25516e-13,
1.51316e-13,
6.92716e-14,
3.12282e-14,
1.38619e-14,
6.05831e-15,
2.60681e-15,
1.10425e-15,
4.60475e-16,
1.89023e-16,
7.63734e-17,
3.03741e-17,
1.18904e-17,
4.58193e-18,
1.73759e-18,
6.48012e-19,
2.36792e-19,
8.65298e-20,
3.08777e-20
};

double PU_data_all_ScaleDown[120] ={
5.2618e-06,
1.96366e-05,
6.10019e-05,
0.000132545,
0.000232924,
0.000361412,
0.000540687,
0.000794328,
0.00112859,
0.0015894,
0.00225799,
0.00320433,
0.00448527,
0.00614402,
0.00822328,
0.0107544,
0.013728,
0.0170643,
0.0205983,
0.0240945,
0.0272998,
0.0300223,
0.0321948,
0.0338792,
0.0352115,
0.0363354,
0.0373578,
0.0383314,
0.0392589,
0.0401062,
0.0408187,
0.0413335,
0.0415843,
0.0415012,
0.0410123,
0.04005,
0.0385643,
0.0365365,
0.0339917,
0.0310016,
0.0276804,
0.0241716,
0.0206306,
0.0172066,
0.0140257,
0.0111801,
0.00872369,
0.00667232,
0.00501093,
0.00370233,
0.00269689,
0.00194091,
0.00138282,
0.000976993,
0.000685393,
0.000477789,
0.000331025,
0.000227857,
0.000155709,
0.000105529,
7.08522e-05,
4.70769e-05,
3.09286e-05,
2.0079e-05,
1.28767e-05,
8.15682e-06,
5.10458e-06,
3.15695e-06,
1.93037e-06,
1.16758e-06,
6.98872e-07,
4.14116e-07,
2.42965e-07,
1.41148e-07,
8.11795e-08,
4.6208e-08,
2.60188e-08,
1.44847e-08,
7.96736e-09,
4.32724e-09,
2.31906e-09,
1.22558e-09,
6.38313e-10,
3.27452e-10,
1.65373e-10,
8.21838e-11,
4.01732e-11,
1.93091e-11,
9.12272e-12,
4.23552e-12,
1.93199e-12,
8.65621e-13,
3.80888e-13,
1.64568e-13,
6.98091e-14,
2.90701e-14,
1.18823e-14,
4.76692e-15,
1.87682e-15,
7.25143e-16,
2.74925e-16,
1.02278e-16,
3.73305e-17,
1.3369e-17,
4.69783e-18,
1.61992e-18,
5.45774e-19,
1.8219e-19,
5.8159e-20,
1.89298e-20,
5.65295e-21,
2.29699e-21,
0,
0,
0,
0,
0,
0,
0,
0
};




double PU_MC[100] =  {
4.695341e-10, 1.206213e-06, 1.162593e-06, 6.118058e-06, 1.626767e-05,
3.508135e-05, 7.12608e-05, 0.0001400641, 0.0002663403, 0.0004867473,
0.0008469, 0.001394142, 0.002169081, 0.003198514, 0.004491138,
0.006036423, 0.007806509, 0.00976048, 0.0118498, 0.01402411,
0.01623639, 0.01844593, 0.02061956, 0.02273221, 0.02476554,
0.02670494, 0.02853662, 0.03024538, 0.03181323, 0.03321895,
0.03443884, 0.035448, 0.03622242, 0.03674106, 0.0369877,
0.03695224, 0.03663157, 0.03602986, 0.03515857, 0.03403612,
0.0326868, 0.03113936, 0.02942582, 0.02757999, 0.02563551,
0.02362497, 0.02158003, 0.01953143, 0.01750863, 0.01553934,
0.01364905, 0.01186035, 0.01019246, 0.008660705, 0.007275915,
0.006043917, 0.004965276, 0.004035611, 0.003246373, 0.002585932,
0.002040746, 0.001596402, 0.001238498, 0.0009533139, 0.0007282885,
0.000552306, 0.0004158005, 0.0003107302, 0.0002304612, 0.0001696012,
0.0001238161, 8.96531e-05, 6.438087e-05, 4.585302e-05, 3.23949e-05,
2.271048e-05, 1.580622e-05, 1.09286e-05, 7.512748e-06, 5.140304e-06,
3.505254e-06, 2.386437e-06, 1.625859e-06, 1.111865e-06, 7.663272e-07,
5.350694e-07, 3.808318e-07, 2.781785e-07, 2.098661e-07, 1.642811e-07,
1.312835e-07, 1.081326e-07, 9.141993e-08, 7.890983e-08, 6.91468e-08,
6.119019e-08, 5.443693e-08, 4.85036e-08, 4.31486e-08, 3.822112e-08
};

     if(scale ==0 && dataset=="all"){ return float(PU_data_all_noScale[NumTrueInteraction]/PU_MC[NumTrueInteraction]) ;}
else if(scale ==1 && dataset=="all"){ return float(PU_data_all_ScaleUp[NumTrueInteraction]/PU_MC[NumTrueInteraction]) ;}
else if(scale ==2 && dataset=="all"){ return float(PU_data_all_ScaleDown[NumTrueInteraction]/PU_MC[NumTrueInteraction]) ;}
else {return 1;}
}
}
